# ğŸ”„ Flujo de ReservaciÃ³n Empresarial - Diagrama Visual

## ğŸ“Š Arquitectura General

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           RESERVACIONES EMPRESARIALES                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   PÃGINAS       â”‚    â”‚   COMPONENTES   â”‚    â”‚         STORES              â”‚  â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                             â”‚  â”‚
â”‚  â”‚ ğŸ“„ index.vue    â”‚    â”‚ ğŸ§© EmpresarialFormâ”‚    â”‚ ğŸª reservation-form.ts     â”‚  â”‚
â”‚  â”‚ ğŸ“„ formulario-  â”‚    â”‚ ğŸ§© ReservationStepâ”‚    â”‚ ğŸª reservation-company.ts  â”‚  â”‚
â”‚  â”‚    reservacion  â”‚    â”‚    Header.vue   â”‚    â”‚ ğŸª reservation-step-status  â”‚  â”‚
â”‚  â”‚                 â”‚    â”‚ ğŸ§© ReservationStepâ”‚    â”‚                             â”‚  â”‚
â”‚  â”‚                 â”‚    â”‚    1,2,3.vue    â”‚    â”‚                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                       â”‚                       â”‚                    â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                   â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   COMPOSABLES   â”‚    â”‚   SERVICIOS     â”‚    â”‚         UTILS               â”‚  â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                             â”‚  â”‚
â”‚  â”‚ ğŸ”§ useReservationâ”‚    â”‚ ğŸŒ API Endpointsâ”‚    â”‚ ğŸ› ï¸ useToast                 â”‚  â”‚
â”‚  â”‚    Company.ts   â”‚    â”‚ ğŸŒ useApiFetch  â”‚    â”‚ ğŸ› ï¸ useErrorHandler          â”‚  â”‚
â”‚  â”‚ ğŸ”§ useStepLoaderâ”‚    â”‚ ğŸŒ useApiPost   â”‚    â”‚ ğŸ› ï¸ useStoreCleanup          â”‚  â”‚
â”‚  â”‚ ğŸ”§ useStepEventsâ”‚    â”‚                 â”‚    â”‚ ğŸ› ï¸ useAutoStoreCleanup      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Flujo de NavegaciÃ³n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   /reservations â”‚
â”‚   (Lista)       â”‚
â”‚                 â”‚
â”‚ [Ver Detalle]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ /reservations/  â”‚
â”‚ formulario-     â”‚
â”‚ reservacion     â”‚
â”‚ ?step=1         â”‚
â”‚                 â”‚
â”‚ [Paso 1] [Paso 2] [Paso 3] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReservationStep â”‚
â”‚ Header.vue      â”‚
â”‚                 â”‚
â”‚ [â†] [1] [2] [3] [â†’] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EmpresarialForm â”‚
â”‚ (Contenedor)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReservationStep â”‚
â”‚ 1, 2, o 3.vue   â”‚
â”‚ (Formulario)    â”‚
â”‚                 â”‚
â”‚ [Guardar] [Siguiente] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Flujo de Datos Detallado

### 1ï¸âƒ£ **InicializaciÃ³n**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Usuario accede  â”‚
â”‚ a formulario-   â”‚
â”‚ reservacion     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ onMounted()     â”‚
â”‚ ejecuta:        â”‚
â”‚                 â”‚
â”‚ â€¢ loadExisting  â”‚
â”‚   Reservation() â”‚
â”‚ â€¢ initializeNew â”‚
â”‚   Session()     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReservationStep â”‚
â”‚ Header.vue      â”‚
â”‚ se monta        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ setupStepSave   â”‚
â”‚ Listeners()     â”‚
â”‚ configura       â”‚
â”‚ eventos         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ loadStepsIf     â”‚
â”‚ Needed()        â”‚
â”‚ carga estado    â”‚
â”‚ de pasos        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2ï¸âƒ£ **NavegaciÃ³n entre Pasos**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Usuario hace    â”‚
â”‚ clic en paso    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReservationStep â”‚
â”‚ Header emite    â”‚
â”‚ "step-click"    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EmpresarialForm â”‚
â”‚ escucha evento  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cambia          â”‚
â”‚ currentStep     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Renderiza       â”‚
â”‚ ReservationStep â”‚
â”‚ correspondiente â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3ï¸âƒ£ **Guardado de Paso**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Usuario envÃ­a   â”‚
â”‚ formulario      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReservationStep â”‚
â”‚ 2.vue ejecuta   â”‚
â”‚ handleSubmit()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ mapFormDataTo   â”‚
â”‚ ApiRequest()    â”‚
â”‚ transforma      â”‚
â”‚ datos           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ store.update    â”‚
â”‚ FormData()      â”‚
â”‚ actualiza store â”‚
â”‚ local           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ updateReservationâ”‚
â”‚ Step2() llama   â”‚
â”‚ API             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useReservation  â”‚
â”‚ Company.ts      â”‚
â”‚ ejecuta:        â”‚
â”‚                 â”‚
â”‚ â€¢ store.update  â”‚
â”‚   Reservation   â”‚
â”‚   Step2()       â”‚
â”‚ â€¢ showSuccess() â”‚
â”‚   toast         â”‚
â”‚ â€¢ emitStep2     â”‚
â”‚   Saved() eventoâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReservationStep â”‚
â”‚ Header escucha  â”‚
â”‚ evento          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ markStepCompleteâ”‚
â”‚ Immediately()   â”‚
â”‚ marca como      â”‚
â”‚ completo        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ forceReloadAll  â”‚
â”‚ Steps() recarga â”‚
â”‚ estado          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UI se actualiza â”‚
â”‚ con âœ…          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Estados Visuales de Pasos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PASO COMPLETO â”‚    â”‚ PASO DISPONIBLE â”‚    â”‚ PASO BLOQUEADO  â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     âœ…     â”‚  â”‚    â”‚  â”‚     2     â”‚  â”‚    â”‚  â”‚     3     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ bg-green-100    â”‚    â”‚ bg-blue-100     â”‚    â”‚ bg-gray-100     â”‚
â”‚ text-green-800  â”‚    â”‚ text-blue-800   â”‚    â”‚ text-gray-500   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ NavegaciÃ³n:     â”‚    â”‚ NavegaciÃ³n:     â”‚    â”‚ NavegaciÃ³n:     â”‚
â”‚ âœ… Habilitada   â”‚    â”‚ âœ… Habilitada   â”‚    â”‚ âŒ Deshabilitadaâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Funciones Principales por Componente

### ğŸ“„ **ReservationStepHeader.vue**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ReservationStepHeader.vue                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ§­ NAVEGACIÃ“N                                                  â”‚
â”‚  â”œâ”€ goToNextStep()           â†’ Ir al siguiente paso            â”‚
â”‚  â”œâ”€ goToPreviousStep()       â†’ Ir al paso anterior             â”‚
â”‚  â””â”€ getStepVisualState()     â†’ Estado visual del paso          â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“Š CARGA DE DATOS                                             â”‚
â”‚  â”œâ”€ loadStepsIfNeeded()      â†’ Cargar pasos si es necesario    â”‚
â”‚  â”œâ”€ forceReloadAllSteps()    â†’ Forzar recarga de pasos         â”‚
â”‚  â””â”€ loadReservationSteps()   â†’ Cargar pasos de reservaciÃ³n     â”‚
â”‚                                                                 â”‚
â”‚  ğŸ§ EVENTOS                                                    â”‚
â”‚  â”œâ”€ setupStepSaveListeners() â†’ Configurar listeners            â”‚
â”‚  â”œâ”€ handleStepSaved()        â†’ Manejar guardado exitoso        â”‚
â”‚  â”œâ”€ markStepCompleteImmediately() â†’ Marcar como completo       â”‚
â”‚  â””â”€ cleanupStepSaveListeners() â†’ Limpiar listeners             â”‚
â”‚                                                                 â”‚
â”‚  ğŸ› DEBUG                                                      â”‚
â”‚  â”œâ”€ toggleDebugInfo()        â†’ Mostrar/ocultar debug           â”‚
â”‚  â”œâ”€ debugInfo (computed)     â†’ InformaciÃ³n de debug            â”‚
â”‚  â””â”€ showDebugControls        â†’ Controles de debug              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ¢ **EmpresarialForm.vue**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      EmpresarialForm.vue                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ¯ GESTIÃ“N DE PASOS                                           â”‚
â”‚  â”œâ”€ currentStep              â†’ Paso actual (1, 2, 3)          â”‚
â”‚  â”œâ”€ handleStepClick()        â†’ Manejar clic en paso            â”‚
â”‚  â””â”€ canNavigateToStep()      â†’ Verificar si puede navegar      â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¨ RENDERIZADO                                                â”‚
â”‚  â”œâ”€ getCurrentStepComponent() â†’ Obtener componente del paso    â”‚
â”‚  â””â”€ stepComponents           â†’ Mapeo de componentes            â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“¡ EVENTOS                                                    â”‚
â”‚  â”œâ”€ @step-click              â†’ Escuchar clic en paso           â”‚
â”‚  â””â”€ @step-completed          â†’ Escuchar paso completado        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“ **ReservationStep2.vue**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ReservationStep2.vue                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ“‹ FORMULARIO                                                 â”‚
â”‚  â”œâ”€ handleSubmit()           â†’ Manejar envÃ­o                   â”‚
â”‚  â”œâ”€ mapFormDataToApiRequest() â†’ Transformar datos              â”‚
â”‚  â”œâ”€ validateForm()           â†’ Validar formulario              â”‚
â”‚  â””â”€ form (reactive)          â†’ Datos del formulario            â”‚
â”‚                                                                 â”‚
â”‚  ğŸŒ API                                                        â”‚
â”‚  â”œâ”€ updateReservationStep2() â†’ Actualizar paso 2               â”‚
â”‚  â””â”€ useReservationCompany()  â†’ Composable empresarial          â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¨ UI                                                         â”‚
â”‚  â”œâ”€ campos del formulario    â†’ Inputs, selects, checkboxes     â”‚
â”‚  â”œâ”€ validaciÃ³n en tiempo real â†’ Mensajes de error              â”‚
â”‚  â””â”€ botones de acciÃ³n        â†’ Guardar, Siguiente              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸª **useReservationCompany.ts**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  useReservationCompany.ts                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ”§ CRUD OPERATIONS                                            â”‚
â”‚  â”œâ”€ createReservationStep1()  â†’ Crear paso 1                   â”‚
â”‚  â”œâ”€ updateReservationStep2()  â†’ Actualizar paso 2              â”‚
â”‚  â””â”€ updateReservationStep3()  â†’ Actualizar paso 3              â”‚
â”‚                                                                 â”‚
â”‚  ğŸ“¡ EVENTOS                                                    â”‚
â”‚  â”œâ”€ emitStep1Saved()          â†’ Emitir evento paso 1           â”‚
â”‚  â”œâ”€ emitStep2Saved()          â†’ Emitir evento paso 2           â”‚
â”‚  â””â”€ emitStep3Saved()          â†’ Emitir evento paso 3           â”‚
â”‚                                                                 â”‚
â”‚  ğŸ› ï¸ UTILIDADES                                                â”‚
â”‚  â”œâ”€ loadStep1()               â†’ Cargar datos paso 1            â”‚
â”‚  â”œâ”€ loadStep2()               â†’ Cargar datos paso 2            â”‚
â”‚  â”œâ”€ showSuccess()             â†’ Mostrar toast Ã©xito            â”‚
â”‚  â””â”€ showError()               â†’ Mostrar toast error            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸª **reservation-step-status.ts**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                reservation-step-status.ts                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ“Š ESTADO                                                     â”‚
â”‚  â”œâ”€ stepStatus               â†’ Estado de cada paso             â”‚
â”‚  â”œâ”€ currentReservationId     â†’ ID de reservaciÃ³n actual        â”‚
â”‚  â”œâ”€ currentAttendeeType      â†’ Tipo de asistente               â”‚
â”‚  â””â”€ isLoading                â†’ Estado de carga                 â”‚
â”‚                                                                 â”‚
â”‚  âœ… VALIDACIÃ“N                                                â”‚
â”‚  â”œâ”€ isStepDataComplete()     â†’ Verificar si paso estÃ¡ completo â”‚
â”‚  â”œâ”€ validateFields()         â†’ Validar campos                  â”‚
â”‚  â”œâ”€ validateField()          â†’ Validar campo individual        â”‚
â”‚  â””â”€ stepValidationConfig     â†’ ConfiguraciÃ³n de validaciÃ³n     â”‚
â”‚                                                                 â”‚
â”‚  ğŸ¯ GESTIÃ“N                                                   â”‚
â”‚  â”œâ”€ markStepComplete()       â†’ Marcar paso como completo       â”‚
â”‚  â”œâ”€ markStepIncomplete()     â†’ Marcar paso como incompleto     â”‚
â”‚  â”œâ”€ loadAllStepsStatus()     â†’ Cargar estado de todos los pasosâ”‚
â”‚  â””â”€ forceReloadAllSteps()    â†’ Forzar recarga                  â”‚
â”‚                                                                 â”‚
â”‚  ğŸ”§ CONFIGURACIÃ“N                                             â”‚
â”‚  â”œâ”€ addStepValidationConfig() â†’ Agregar configuraciÃ³n          â”‚
â”‚  â”œâ”€ addNewReservationType()   â†’ Agregar nuevo tipo             â”‚
â”‚  â””â”€ getStepValidationConfig() â†’ Obtener configuraciÃ³n          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Flujo de ValidaciÃ³n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Datos del paso  â”‚
â”‚ llegan del API  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ isStepData      â”‚
â”‚ Complete()      â”‚
â”‚ verifica        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ validateFields()â”‚
â”‚ valida campos   â”‚
â”‚ requeridos      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ validateField() â”‚
â”‚ valida cada     â”‚
â”‚ campo           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Reglas de       â”‚
â”‚ validaciÃ³n:     â”‚
â”‚                 â”‚
â”‚ â€¢ Campos bÃ¡sicosâ”‚
â”‚ â€¢ Campos contactoâ”‚
â”‚ â€¢ Campos fecha  â”‚
â”‚ â€¢ Campos ID     â”‚
â”‚ â€¢ Campos costo  â”‚
â”‚ â€¢ Campos booleanâ”‚
â”‚ â€¢ Arrays        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Resultado:      â”‚
â”‚ âœ… Completo     â”‚
â”‚ âŒ Incompleto   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Flujo de Guardado Exitoso (Detallado)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Usuario      â”‚
â”‚    envÃ­a        â”‚
â”‚    formulario   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. API responde â”‚
â”‚    exitosamente â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. useReservationâ”‚
â”‚    Company      â”‚
â”‚    emite evento â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. ReservationStepâ”‚
â”‚    Header       â”‚
â”‚    escucha      â”‚
â”‚    evento       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Verifica que â”‚
â”‚    es la misma  â”‚
â”‚    reservaciÃ³n  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Marca paso   â”‚
â”‚    como completoâ”‚
â”‚    inmediatamenteâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. Recarga      â”‚
â”‚    estado de    â”‚
â”‚    todos los    â”‚
â”‚    pasos        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. UI se        â”‚
â”‚    actualiza    â”‚
â”‚    con âœ…       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. BotÃ³n        â”‚
â”‚    "Siguiente   â”‚
â”‚    Paso" se     â”‚
â”‚    habilita     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Resumen del Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SISTEMA COMPLETO                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ¯ OBJETIVO: Sistema de reservaciones empresariales modular   â”‚
â”‚                                                                 â”‚
â”‚  ğŸ—ï¸ ARQUITECTURA:                                              â”‚
â”‚  â”œâ”€ PÃ¡ginas: NavegaciÃ³n principal                              â”‚
â”‚  â”œâ”€ Componentes: LÃ³gica de UI encapsulada                     â”‚
â”‚  â”œâ”€ Stores: Estado global gestionado                           â”‚
â”‚  â”œâ”€ Composables: LÃ³gica reutilizable                          â”‚
â”‚  â””â”€ Eventos: SincronizaciÃ³n entre componentes                 â”‚
â”‚                                                                 â”‚
â”‚  ğŸ”„ FLUJO: Completamente reactivo y automÃ¡tico                â”‚
â”‚                                                                 â”‚
â”‚  âœ… RESULTADO: UI se actualiza en tiempo real                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

Este diagrama muestra la estructura completa del sistema de reservaciones empresariales, desde la navegaciÃ³n hasta el guardado exitoso, incluyendo todos los componentes, funciones y flujos de datos involucrados.
